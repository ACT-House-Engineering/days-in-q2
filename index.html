<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Day of Revival</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.1.2/tailwind.min.css'>

</head>
<body>
<!-- partial:index.partial.html -->
<main class="flex flex-col justify-center items-center h-screen w-screen">
  <table id="calendar"></table>
  <div>Day of Revival</div>
  <div 
       id="days"
       class="font-bold"
       style="font-size: 12rem;"
  ></div>
</main>

<script>
  
  function getDays(start, end) {
    for(var arr=[],dt=new Date(start); dt<=end; dt.setDate(dt.getDate()+1)){
        arr.push(new Date(dt))
    }
    return arr
  }
  
  function addWeek() {
    const row = calendar.insertRow()
    
    for (let i=0; i<7; i++) {
      const cell = row.insertCell(i)
      
      cell.innerHTML = i
      
      console.log(cell)
    }
    
    return row
  }
  

  const days = document.querySelector('#days')
  const calendar = document.querySelector('#calendar')

  const revivalStart = new Date('Febuary 2, 2021 07:00:00')

  const timeDifference = Date.now() - revivalStart.getTime()
  
  const daysOfRevival = getDays(revivalStart, new Date())
  
  // Calculate the no. of days between two dates
  const daysDifference = timeDifference / (1000 * 3600 * 24)

  console.log('r', revivalStart)
  console.log('d', daysDifference)
  // console.log('d', daysOfRevival)
  
  
  
  
  
  let week = addWeek()
  
  console.log('cell', week, week.cells.length)
  
  for ( const day of daysOfRevival ) {
    
    const weekDayIndex = day.getDay()
    
    if ( weekDayIndex === 0 ) {
      week = addWeek()
    }
    
    const dayCell = week.item( weekDayIndex )
    
    
    
    
    // const cell = row.insertCell()
    
    dayCell.innerHTML = day.getDate()
    
  }
  
  days.innerHTML = Math.floor(daysDifference)


</script>

</body>
</html>
